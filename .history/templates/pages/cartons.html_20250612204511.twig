{% extends 'base.html.twig' %}

{% block title %}Cartons{% endblock %}

{% block body %}
<div class="container my-5">
    <h1 class="text-center mb-5 fw-bold" style="font-family: 'Georgia', serif; font-size: 3rem; color: #ff6f91;">Statistiques des Cartons ‚ù§Ô∏è</h1>

    <div class="table-responsive shadow-lg rounded-5 border border-3 border-pink p-3" style="background: linear-gradient(135deg, #ffe6f0, #fff0f6);">
        <table class="table table-striped table-hover align-middle mb-0">
            <thead class="table-dark" style="background-color: #ff6f91;">
                <tr>
                    <th>Joueur</th>
                    <th>Club du joueur</th>
                    <th class="text-center">üü® Cartons jaunes</th>
                    <th class="text-center">üü• Cartons rouges</th>
                    <th class="text-center">Total</th>
                </tr>
            </thead>
            <tbody>
                {% for stat in cartonsStats %}
                    <tr>
                        <td class="d-flex align-items-center gap-3">
                            {% if stat.joueur is not null %}
                                <img src="{{ asset('assets/images/joueurs/' ~ stat.joueur.id ~ '.jpg') }}" alt="{{ stat.joueur.nom }}" class="rounded-circle joueur-photo" onerror="this.style.display='none'">
                                <span>{{ stat.joueur.nom }}</span>
                            {% else %}
                                <img src="{{ asset('assets/images/joueurs/default.jpg') }}" alt="Joueur inconnu" class="rounded-circle joueur-photo" onerror="this.style.display='none'">
                                <span>Joueur inconnu</span>
                            {% endif %}
                        </td>
                        <td>
                            {% if stat.joueur and stat.joueur.club %}
                                {{ stat.joueur.club.nom }}
                            {% else %}
                                -
                            {% endif %}
                        </td>
                        <td class="text-center">
                            <span class="badge bg-warning text-dark fs-5 fw-bold">{{ stat.totalCartonsJaunes }}</span>
                        </td>
                        <td class="text-center">
                            <span class="badge bg-danger fs-5 fw-bold">{{ stat.totalCartonsRouges }}</span>
                        </td>
                        <td class="text-center">
                            <span class="badge bg-secondary fs-5 fw-bold">{{ stat.totalCartonsJaunes + stat.totalCartonsRouges }}</span>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<style>
    .joueur-photo {
        width: 50px;
        height: 50px;
        object-fit: cover;
        border: 3px solid #ff6f91;
        box-shadow: 0 0 10px #ff6f91;
        transition: transform 0.3s ease;
        border-radius: 50%;
    }
    .joueur-photo:hover {
        transform: scale(1.2);
        box-shadow: 0 0 20px #ff4a75;
    }
    table.table thead th {
        vertical-align: middle;
        font-family: 'Georgia', serif;
        font-size: 1.2rem;
    }
    table.table tbody td {
        font-family: 'Georgia', serif;
        font-size: 1.1rem;
        color: #333;
    }
</style>
{% endblock %}
